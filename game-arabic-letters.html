<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <title>Ù…ØºØ§Ù…Ø±Ø© Ø§Ù„Ø­Ø±ÙˆÙ Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© | Ø³Ù…Ø§Ø±Øª ÙƒÙŠØ¯Ø²</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta
    name="description"
    content="Ù„Ø¹Ø¨Ø© ØªÙØ§Ø¹Ù„ÙŠØ© Ø´Ø§Ù…Ù„Ø© Ù„ØªØ¹Ù„Ù… Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ø±ÙˆÙ Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ù…Ù† Ø®Ù„Ø§Ù„ ÙƒÙ„Ù…Ø§Øª ÙˆØµÙˆØ± Ù…Ù„ÙˆÙ†Ø©ØŒ Ù…Ø¹ ØªØ­Ø¯ÙŠØ§Øª Ù†Ø·Ù‚ ÙÙˆØ±ÙŠØ© ÙˆÙ†Ø¸Ø§Ù… Ù†Ù‚Ø§Ø· ÙŠØ­ÙØ² Ø§Ù„Ø£Ø¯Ø§Ø¡."
  />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@300;400;500;700&display=swap" rel="stylesheet">
  <style>
    /* ØªØ­Ø³ÙŠÙ†Ø§Øª Ø®Ø§ØµØ© Ø¨Ø§Ù„Ù„Ø¹Ø¨Ø© - Ù…Ø·Ø§Ø¨Ù‚Ø© Ù„ØªØµÙ…ÙŠÙ… Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© */
    :root {
      --primary: #FF9E1F;
      --primary-dark: #E88A0D;
      --primary-light: #FFD699;
      --secondary: #4A90E2;
      --secondary-light: #8EC0F0;
      --accent: #FF6B6B;
      --dark: #2D3748;
      --light: #F7FAFC;
      --white: #FFFFFF;
      --gray-light: #E2E8F0;
      --gray: #A0AEC0;
      --shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
      --shadow-lg: 0 10px 25px rgba(0, 0, 0, 0.12);
      --radius: 16px;
      --transition: all 0.3s ease;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: 'Tajawal', sans-serif;
      background-color: var(--light);
      color: var(--dark);
      line-height: 1.6;
      padding: 0;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
    }

    .navbar {
      background: var(--white);
      border-radius: var(--radius);
      margin: 1rem auto;
      max-width: min(1200px, 94vw);
      box-shadow: var(--shadow);
      padding: 0.8rem 1.5rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
      position: sticky;
      top: 10px;
      z-index: 100;
    }

    .brand {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      text-decoration: none;
      color: var(--dark);
      font-weight: 700;
      font-size: 1.4rem;
    }

    .brand span:first-child {
      font-size: 2rem;
    }

    .nav-links {
      display: flex;
      gap: 0.5rem;
    }

    .nav-links a {
      text-decoration: none;
      color: var(--dark);
      font-weight: 500;
      padding: 0.5rem 1rem;
      border-radius: 8px;
      transition: var(--transition);
      font-size: 0.9rem;
      white-space: nowrap;
    }

    .nav-links a:hover, .nav-links a.active {
      background-color: var(--primary-light);
      color: var(--primary-dark);
    }

    main {
      max-width: min(1200px, 94vw);
      margin: 0 auto;
      padding: 1.5rem 0;
      flex: 1;
    }

    .game-header {
      text-align: center;
      margin-bottom: 2rem;
    }

    .game-title {
      font-size: 2.5rem;
      color: var(--dark);
      margin-bottom: 0.5rem;
    }

    .game-title span {
      color: var(--primary);
    }

    .game-subtitle {
      font-size: 1.2rem;
      color: var(--dark);
      opacity: 0.8;
      margin-bottom: 1.5rem;
    }

    .badge {
      display: inline-block;
      background: var(--primary-light);
      color: var(--primary-dark);
      padding: 0.4rem 1rem;
      border-radius: 50px;
      font-size: 0.85rem;
      font-weight: 700;
      margin-bottom: 1rem;
    }

    .game-stats {
      display: flex;
      justify-content: center;
      gap: 1.5rem;
      margin-bottom: 2rem;
    }

    .stat-card {
      background: var(--white);
      padding: 1.5rem;
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      display: flex;
      flex-direction: column;
      align-items: center;
      min-width: 120px;
      transition: var(--transition);
    }

    .stat-card:hover {
      transform: translateY(-5px);
      box-shadow: var(--shadow-lg);
    }

    .stat-value {
      font-size: 1.8rem;
      font-weight: 700;
      color: var(--primary);
    }

    .stat-label {
      font-size: 0.9rem;
      color: var(--dark);
      opacity: 0.8;
    }

    /* Ù„ÙˆØ­Ø© Ø§Ù„Ø­Ø±ÙˆÙ */
    .letters-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(80px, 1fr));
      gap: 1rem;
      margin-bottom: 2rem;
    }

    .letter-card {
      background: var(--white);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: 1rem;
      text-align: center;
      cursor: pointer;
      transition: var(--transition);
      aspect-ratio: 1;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
    }

    .letter-card:hover {
      transform: translateY(-5px);
      box-shadow: var(--shadow-lg);
    }

    .letter-card.active {
      background: var(--primary);
      color: white;
    }

    .letter-card.learned {
      background: var(--secondary);
      color: white;
    }

    .letter-display {
      font-size: 2.5rem;
      font-weight: 700;
      margin-bottom: 0.5rem;
    }

    .letter-name {
      font-size: 0.9rem;
    }

    /* Ù„ÙˆØ­Ø© Ø§Ù„Ù„Ø¹Ø¨Ø© */
    .game-board {
      background: var(--white);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: 2rem;
      margin-bottom: 2rem;
      display: flex;
      flex-direction: column;
      align-items: center;
      min-height: 400px;
      transition: var(--transition);
    }

    .game-board:hover {
      box-shadow: var(--shadow-lg);
    }

    .letter-intro {
      text-align: center;
      margin-bottom: 2rem;
      width: 100%;
    }

    .current-letter-display {
      font-size: 8rem;
      color: var(--primary);
      margin-bottom: 1rem;
      text-shadow: 3px 3px 0 rgba(0, 0, 0, 0.1);
    }

    .letter-name {
      font-size: 1.8rem;
      color: var(--dark);
      margin-bottom: 0.5rem;
    }

    .letter-pronunciation {
      font-size: 1.2rem;
      color: var(--dark);
      opacity: 0.8;
      margin-bottom: 1rem;
    }

    .pronunciation-btn {
      background: var(--primary);
      color: white;
      border: none;
      padding: 0.8rem 1.5rem;
      border-radius: 50px;
      font-size: 1rem;
      font-weight: 600;
      cursor: pointer;
      transition: var(--transition);
      display: flex;
      align-items: center;
      gap: 0.5rem;
      margin: 0 auto;
      box-shadow: 0 4px 10px rgba(255, 158, 31, 0.3);
    }

    .pronunciation-btn:hover {
      background: var(--primary-dark);
      transform: translateY(-2px);
      box-shadow: 0 6px 15px rgba(255, 158, 31, 0.4);
    }

    /* Ù…Ù†Ø·Ù‚Ø© Ø§Ù„ÙƒÙ„Ù…Ø§Øª */
    .words-section {
      width: 100%;
      margin-top: 2rem;
    }

    .section-title {
      text-align: center;
      font-size: 1.5rem;
      color: var(--dark);
      margin-bottom: 1.5rem;
    }

    .words-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 1.5rem;
    }

    .word-card {
      background: var(--light);
      border-radius: var(--radius);
      padding: 1.5rem;
      text-align: center;
      cursor: pointer;
      transition: var(--transition);
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    .word-card:hover {
      transform: translateY(-5px);
      box-shadow: var(--shadow-lg);
    }

    .word-card img {
      width: 100px;
      height: 100px;
      object-fit: contain;
      margin-bottom: 1rem;
    }

    .word-text {
      font-size: 1.4rem;
      font-weight: 600;
      color: var(--dark);
      margin-bottom: 0.5rem;
    }

    .word-translation {
      font-size: 1rem;
      color: var(--dark);
      opacity: 0.8;
    }

    /* Ù…Ù†Ø·Ù‚Ø© Ø§Ù„ØªÙ…Ø±ÙŠÙ† */
    .exercise-section {
      width: 100%;
      margin-top: 2rem;
      display: none;
    }

    .exercise-container {
      background: var(--light);
      border-radius: var(--radius);
      padding: 2rem;
      text-align: center;
    }

    .exercise-question {
      font-size: 1.5rem;
      margin-bottom: 1.5rem;
      color: var(--dark);
    }

    .exercise-options {
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      gap: 1rem;
      margin-bottom: 2rem;
    }

    .option-btn {
      background: white;
      border: 2px solid var(--gray-light);
      border-radius: var(--radius);
      padding: 1rem 1.5rem;
      font-size: 1.2rem;
      cursor: pointer;
      transition: var(--transition);
      min-width: 150px;
    }

    .option-btn:hover {
      border-color: var(--primary);
      transform: scale(1.05);
    }

    .option-btn.correct {
      background: var(--secondary);
      color: white;
      border-color: var(--secondary);
    }

    .option-btn.incorrect {
      background: var(--accent);
      color: white;
      border-color: var(--accent);
    }

    .exercise-feedback {
      font-size: 1.2rem;
      font-weight: 600;
      margin-bottom: 1rem;
      min-height: 2rem;
    }

    .feedback-correct {
      color: var(--secondary);
    }

    .feedback-incorrect {
      color: var(--accent);
    }

    .next-btn {
      background: var(--primary);
      color: white;
      border: none;
      padding: 0.8rem 2rem;
      border-radius: 50px;
      font-size: 1.1rem;
      font-weight: 600;
      cursor: pointer;
      transition: var(--transition);
      display: none;
      margin: 0 auto;
      box-shadow: 0 4px 10px rgba(255, 158, 31, 0.3);
    }

    .next-btn:hover {
      background: var(--primary-dark);
      transform: translateY(-2px);
      box-shadow: 0 6px 15px rgba(255, 158, 31, 0.4);
    }

    /* Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØªØ­ÙƒÙ… */
    .game-controls {
      display: flex;
      justify-content: center;
      gap: 1rem;
      margin-top: 2rem;
    }

    .btn-primary {
      background: var(--primary);
      color: white;
      border: none;
      padding: 0.8rem 1.8rem;
      border-radius: 50px;
      font-size: 1.1rem;
      font-weight: 600;
      cursor: pointer;
      transition: var(--transition);
      text-decoration: none;
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      box-shadow: 0 4px 10px rgba(255, 158, 31, 0.3);
    }

    .btn-primary:hover {
      background: var(--primary-dark);
      transform: translateY(-2px);
      box-shadow: 0 6px 15px rgba(255, 158, 31, 0.4);
    }

    .btn-secondary {
      background: white;
      color: var(--primary);
      border: 2px solid var(--primary);
      padding: 0.8rem 1.8rem;
      border-radius: 50px;
      font-size: 1.1rem;
      font-weight: 600;
      cursor: pointer;
      transition: var(--transition);
      text-decoration: none;
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
    }

    .btn-secondary:hover {
      background: var(--primary);
      color: white;
      transform: translateY(-2px);
    }

    /* Ø§Ù„ØªØ°ÙŠÙŠÙ„ */
    .footer {
      text-align: center;
      padding: 2rem;
      color: var(--dark);
      opacity: 0.7;
      border-top: 1px solid var(--gray-light);
      margin-top: 4rem;
    }

    /* ØªØ£Ø«ÙŠØ±Ø§Øª Ø§Ù„Ù†Ø¬ÙˆÙ… */
    .stars {
      display: flex;
      justify-content: center;
      gap: 0.5rem;
      margin: 1rem 0;
    }

    .star {
      font-size: 2rem;
      color: var(--gray-light);
      transition: var(--transition);
    }

    .star.active {
      color: var(--primary);
      transform: scale(1.2);
    }

    /* Ø±Ø³ÙˆÙ… Ù…ØªØ­Ø±ÙƒØ© */
    @keyframes bounce {
      0%, 20%, 50%, 80%, 100% {
        transform: translateY(0);
      }
      40% {
        transform: translateY(-10px);
      }
      60% {
        transform: translateY(-5px);
      }
    }

    .bounce {
      animation: bounce 1s;
    }

    /* ØªØµÙ…ÙŠÙ… Ù…ØªØ¬Ø§ÙˆØ¨ */
    @media (max-width: 1024px) {
      .nav-links {
        gap: 0.3rem;
      }
      
      .nav-links a {
        padding: 0.5rem 0.7rem;
        font-size: 0.85rem;
      }
    }

    @media (max-width: 768px) {
      .navbar {
        flex-direction: column;
        gap: 1rem;
        padding: 1rem;
      }
      
      .nav-links {
        width: 100%;
        justify-content: center;
        flex-wrap: wrap;
        gap: 0.5rem;
      }
      
      .nav-links a {
        font-size: 0.8rem;
        padding: 0.4rem 0.7rem;
      }
      
      .game-title {
        font-size: 2rem;
      }
      
      .current-letter-display {
        font-size: 6rem;
      }
      
      .words-grid {
        grid-template-columns: repeat(2, 1fr);
      }
      
      .game-stats {
        flex-wrap: wrap;
      }
      
      .letters-grid {
        grid-template-columns: repeat(auto-fill, minmax(60px, 1fr));
        gap: 0.5rem;
      }
      
      .letter-display {
        font-size: 2rem;
      }
      
      .game-controls {
        flex-direction: column;
        align-items: center;
      }
      
      .btn-primary, .btn-secondary {
        width: 100%;
        justify-content: center;
      }
    }
    
    @media (max-width: 480px) {
      .nav-links {
        flex-direction: column;
        align-items: center;
      }
      
      .nav-links a {
        width: 100%;
        text-align: center;
      }
      
      .words-grid {
        grid-template-columns: 1fr;
      }
    }
  </style>
</head>
<body>
  <header class="navbar">
    <a class="brand" href="index.html" aria-label="Ø§Ù„Ø¹ÙˆØ¯Ø© Ø¥Ù„Ù‰ Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©">
      <span>ğŸŒŸ</span>
      <span>Ø³Ù…Ø§Ø±Øª ÙƒÙŠØ¯Ø²</span>
    </a>
    <nav class="nav-links" aria-label="Ø±ÙˆØ§Ø¨Ø· Ø§Ù„ØªÙ†Ù‚Ù„ Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©">
      <a href="index.html">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a>
      <a href="stages.html">Ø§Ù„Ù…Ø±Ø§Ø­Ù„</a>
      <a href="dashboard.html">Ù„ÙˆØ­Ø© Ø§Ù„ØªØ¹Ù„Ù…</a>
      <a href="games.html" class="active">Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ©</a>
      <a href="books.html">Ø§Ù„Ù…ÙƒØªØ¨Ø© Ø§Ù„Ø±Ù‚Ù…ÙŠØ©</a>
      <a href="stories.html">Ø§Ù„Ù‚ØµØµ Ø§Ù„ØµÙˆØªÙŠØ©</a>
      <a href="parent-report.html">Ù„ÙˆØ­Ø© ÙˆÙ„ÙŠ Ø§Ù„Ø£Ù…Ø±</a>
    </nav>
  </header>

  <main>
    <div class="game-header">
      <span class="badge">Ù„Ø¹Ø¨Ø© ØªÙØ§Ø¹Ù„ÙŠØ©</span>
      <h1 class="game-title">Ù…ØºØ§Ù…Ø±Ø© <span>Ø§Ù„Ø­Ø±ÙˆÙ Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</span></h1>
      <p class="game-subtitle">ØªØ¹Ø±Ù Ø¹Ù„Ù‰ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ø±ÙˆÙ Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ù…Ù† Ø®Ù„Ø§Ù„ Ø§Ù„ÙƒÙ„Ù…Ø§Øª ÙˆØ§Ù„ØµÙˆØ± Ø§Ù„ØªÙØ§Ø¹Ù„ÙŠØ©</p>
      
      <div class="game-stats">
        <div class="stat-card">
          <span class="stat-value" id="score">0</span>
          <span class="stat-label">Ø§Ù„Ù†Ù‚Ø§Ø·</span>
        </div>
        <div class="stat-card">
          <span class="stat-value" id="progress">0/28</span>
          <span class="stat-label">Ø§Ù„Ø­Ø±ÙˆÙ Ø§Ù„Ù…ØªÙ‚Ù†Ø©</span>
        </div>
        <div class="stat-card">
          <div class="stars">
            <span class="star">â˜…</span>
            <span class="star">â˜…</span>
            <span class="star">â˜…</span>
          </div>
          <span class="stat-label">Ø§Ù„Ù†Ø¬ÙˆÙ…</span>
        </div>
      </div>
    </div>

    <div class="letters-grid" id="letters-grid">
      <!-- Ø³ÙŠØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø­Ø±ÙˆÙ Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠÙ‹Ø§ -->
    </div>

    <div class="game-board">
      <div class="letter-intro">
        <div class="current-letter-display" id="current-letter-display">Ø£</div>
        <h2 class="letter-name" id="current-letter-name">Ø­Ø±Ù Ø§Ù„Ø£Ù„Ù</h2>
        <p class="letter-pronunciation" id="current-letter-pronunciation">ÙŠÙ†Ø·Ù‚ "Ø£Ù„Ù" - ØµÙˆØª Ù…Ø¬Ù‡ÙˆØ±</p>
        <button class="pronunciation-btn" id="pronunciation-btn">
          ğŸ”Š Ø§Ø³ØªÙ…Ø¹ Ù„Ù„Ù†Ø·Ù‚
        </button>
      </div>

      <div class="words-section" id="words-section">
        <h3 class="section-title">ÙƒÙ„Ù…Ø§Øª ØªØ¨Ø¯Ø£ Ø¨Ø­Ø±Ù <span id="current-letter-word">Ø§Ù„Ø£Ù„Ù</span></h3>
        <div class="words-grid" id="words-grid">
          <!-- Ø³ÙŠØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„ÙƒÙ„Ù…Ø§Øª Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠÙ‹Ø§ -->
        </div>
      </div>

      <div class="exercise-section" id="exercise-section">
        <div class="exercise-container">
          <h3 class="exercise-question" id="exercise-question">Ø£ÙŠ Ù…Ù† Ù‡Ø°Ù‡ Ø§Ù„ÙƒÙ„Ù…Ø§Øª ØªØ¨Ø¯Ø£ Ø¨Ø­Ø±Ù <span id="exercise-letter">Ø§Ù„Ø£Ù„Ù</span>ØŸ</h3>
          <div class="exercise-options" id="exercise-options">
            <!-- Ø³ÙŠØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø®ÙŠØ§Ø±Ø§Øª Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠÙ‹Ø§ -->
          </div>
          <div class="exercise-feedback" id="exercise-feedback"></div>
          <button class="next-btn" id="next-btn">Ø§Ù„ØªØ§Ù„ÙŠ</button>
        </div>
      </div>
    </div>

    <div class="game-controls">
      <button class="btn-primary" id="start-exercise-btn">
        Ø§Ø¨Ø¯Ø£ Ø§Ù„ØªÙ…Ø±ÙŠÙ†
      </button>
      <button class="btn-secondary" id="next-letter-btn">
        Ø§Ù„Ø­Ø±Ù Ø§Ù„ØªØ§Ù„ÙŠ
      </button>
      <a href="games.html" class="btn-secondary">
        â†¶ Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø£Ù„Ø¹Ø§Ø¨
      </a>
    </div>
  </main>

  <footer class="footer">
    Â© 2025 Ø³Ù…Ø§Ø±Øª ÙƒÙŠØ¯Ø² â€“ ØªØ¹Ù„Ù‘Ù… Ù…Ù† Ø®Ù„Ø§Ù„ Ø§Ù„Ù„Ø¹Ø¨ ÙˆØ§Ù„Ø§Ø¨ØªÙƒØ§Ø±! ğŸš€
  </footer>

  <script>
    // Ø¨ÙŠØ§Ù†Ø§Øª Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ø±ÙˆÙ Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©
    const arabicLetters = [
      {
        letter: "Ø£",
        name: "Ø§Ù„Ø£Ù„Ù",
        pronunciation: "Ø£Ù„Ù",
        words: [
          { text: "Ø£Ø³Ø¯", image: "ğŸ¦", translation: "Lion" },
          { text: "Ø£Ø±Ù†Ø¨", image: "ğŸ‡", translation: "Rabbit" },
          { text: "Ø£Ø®Ø·Ø¨ÙˆØ·", image: "ğŸ™", translation: "Octopus" },
          { text: "Ø£Ù†Ø§Ù†Ø§Ø³", image: "ğŸ", translation: "Pineapple" }
        ]
      },
      {
        letter: "Ø¨",
        name: "Ø§Ù„Ø¨Ø§Ø¡",
        pronunciation: "Ø¨Ø§Ø¡",
        words: [
          { text: "Ø¨Ø·Ø©", image: "ğŸ¦†", translation: "Duck" },
          { text: "Ø¨Ø±ØªÙ‚Ø§Ù„", image: "ğŸŠ", translation: "Orange" },
          { text: "Ø¨Ø§Ø¨", image: "ğŸšª", translation: "Door" },
          { text: "Ø¨ÙŠØª", image: "ğŸ ", translation: "House" }
        ]
      },
      {
        letter: "Øª",
        name: "Ø§Ù„ØªØ§Ø¡",
        pronunciation: "ØªØ§Ø¡",
        words: [
          { text: "ØªÙØ§Ø­Ø©", image: "ğŸ", translation: "Apple" },
          { text: "ØªØ§Ø¬", image: "ğŸ‘‘", translation: "Crown" },
          { text: "ØªÙ…Ø³Ø§Ø­", image: "ğŸŠ", translation: "Crocodile" },
          { text: "ØªÙ„ÙØ§Ø²", image: "ğŸ“º", translation: "TV" }
        ]
      },
      {
        letter: "Ø«",
        name: "Ø§Ù„Ø«Ø§Ø¡",
        pronunciation: "Ø«Ø§Ø¡",
        words: [
          { text: "Ø«Ø¹Ù„Ø¨", image: "ğŸ¦Š", translation: "Fox" },
          { text: "Ø«ÙˆØ¨", image: "ğŸ‘—", translation: "Dress" },
          { text: "Ø«Ù…Ø±Ø©", image: "ğŸ“", translation: "Fruit" },
          { text: "Ø«Ù„Ø¬", image: "â„ï¸", translation: "Snow" }
        ]
      },
      {
        letter: "Ø¬",
        name: "Ø§Ù„Ø¬ÙŠÙ…",
        pronunciation: "Ø¬ÙŠÙ…",
        words: [
          { text: "Ø¬Ù…Ù„", image: "ğŸ«", translation: "Camel" },
          { text: "Ø¬Ø²Ø±", image: "ğŸ¥•", translation: "Carrot" },
          { text: "Ø¬Ø¨Ù„", image: "â›°ï¸", translation: "Mountain" },
          { text: "Ø¬ÙˆØ§Ø±Ø¨", image: "ğŸ§¦", translation: "Socks" }
        ]
      },
      {
        letter: "Ø­",
        name: "Ø§Ù„Ø­Ø§Ø¡",
        pronunciation: "Ø­Ø§Ø¡",
        words: [
          { text: "Ø­ÙˆØª", image: "ğŸ‹", translation: "Whale" },
          { text: "Ø­Ù„ÙˆÙ‰", image: "ğŸ¬", translation: "Candy" },
          { text: "Ø­Ø°Ø§Ø¡", image: "ğŸ‘Ÿ", translation: "Shoe" },
          { text: "Ø­ØµØ§Ù†", image: "ğŸ", translation: "Horse" }
        ]
      },
      {
        letter: "Ø®",
        name: "Ø§Ù„Ø®Ø§Ø¡",
        pronunciation: "Ø®Ø§Ø¡",
        words: [
          { text: "Ø®Ø±ÙˆÙ", image: "ğŸ‘", translation: "Sheep" },
          { text: "Ø®Ø¨Ø²", image: "ğŸ", translation: "Bread" },
          { text: "Ø®Ø§ØªÙ…", image: "ğŸ’", translation: "Ring" },
          { text: "Ø®ÙŠØ§Ø±", image: "ğŸ¥’", translation: "Cucumber" }
        ]
      },
      {
        letter: "Ø¯",
        name: "Ø§Ù„Ø¯Ø§Ù„",
        pronunciation: "Ø¯Ø§Ù„",
        words: [
          { text: "Ø¯ÙŠÙƒ", image: "ğŸ“", translation: "Rooster" },
          { text: "Ø¯ÙˆÙ„Ø§Ø¨", image: "ğŸ—„ï¸", translation: "Wardrobe" },
          { text: "Ø¯Ø¨", image: "ğŸ»", translation: "Bear" },
          { text: "Ø¯ÙˆÙ„ÙÙŠÙ†", image: "ğŸ¬", translation: "Dolphin" }
        ]
      },
      {
        letter: "Ø°",
        name: "Ø§Ù„Ø°Ø§Ù„",
        pronunciation: "Ø°Ø§Ù„",
        words: [
          { text: "Ø°Ù‡Ø¨", image: "ğŸ’°", translation: "Gold" },
          { text: "Ø°Ø±Ø©", image: "ğŸŒ½", translation: "Corn" },
          { text: "Ø°ÙŠÙ„", image: "ğŸ¦Š", translation: "Tail" },
          { text: "Ø°ÙƒØ±", image: "ğŸ‘¨", translation: "Male" }
        ]
      },
      {
        letter: "Ø±",
        name: "Ø§Ù„Ø±Ø§Ø¡",
        pronunciation: "Ø±Ø§Ø¡",
        words: [
          { text: "Ø±Ø¬Ù„", image: "ğŸ‘¨", translation: "Man" },
          { text: "Ø±Ù…Ø§Ù†", image: "ğŸ", translation: "Pomegranate" },
          { text: "Ø±ÙŠØ´Ø©", image: "ğŸª¶", translation: "Feather" },
          { text: "Ø±Ø§Ø¯ÙŠÙˆ", image: "ğŸ“»", translation: "Radio" }
        ]
      },
      {
        letter: "Ø²",
        name: "Ø§Ù„Ø²Ø§ÙŠ",
        pronunciation: "Ø²Ø§ÙŠ",
        words: [
          { text: "Ø²Ø±Ø§ÙØ©", image: "ğŸ¦’", translation: "Giraffe" },
          { text: "Ø²Ù‡Ø±Ø©", image: "ğŸŒº", translation: "Flower" },
          { text: "Ø²Ø¬Ø§Ø¬", image: "ğŸ¥›", translation: "Glass" },
          { text: "Ø²ÙŠØªÙˆÙ†", image: "ğŸ«’", translation: "Olive" }
        ]
      },
      {
        letter: "Ø³",
        name: "Ø§Ù„Ø³ÙŠÙ†",
        pronunciation: "Ø³ÙŠÙ†",
        words: [
          { text: "Ø³ÙŠØ§Ø±Ø©", image: "ğŸš—", translation: "Car" },
          { text: "Ø³Ù…ÙƒØ©", image: "ğŸŸ", translation: "Fish" },
          { text: "Ø³Ø§Ø¹Ø©", image: "âŒš", translation: "Watch" },
          { text: "Ø³Ø±ÙŠØ±", image: "ğŸ›ï¸", translation: "Bed" }
        ]
      },
      {
        letter: "Ø´",
        name: "Ø§Ù„Ø´ÙŠÙ†",
        pronunciation: "Ø´ÙŠÙ†",
        words: [
          { text: "Ø´Ù…Ø³", image: "â˜€ï¸", translation: "Sun" },
          { text: "Ø´Ø¬Ø±Ø©", image: "ğŸŒ³", translation: "Tree" },
          { text: "Ø´ÙˆÙƒØ©", image: "ğŸ´", translation: "Fork" },
          { text: "Ø´Ø¨Ø§Ùƒ", image: "ğŸªŸ", translation: "Window" }
        ]
      },
      {
        letter: "Øµ",
        name: "Ø§Ù„ØµØ§Ø¯",
        pronunciation: "ØµØ§Ø¯",
        words: [
          { text: "ØµÙ‚Ø±", image: "ğŸ¦…", translation: "Falcon" },
          { text: "ØµØ§Ø¨ÙˆÙ†", image: "ğŸ§¼", translation: "Soap" },
          { text: "ØµÙ†Ø¯ÙˆÙ‚", image: "ğŸ“¦", translation: "Box" },
          { text: "ØµÙˆØ±Ø©", image: "ğŸ–¼ï¸", translation: "Picture" }
        ]
      },
      {
        letter: "Ø¶",
        name: "Ø§Ù„Ø¶Ø§Ø¯",
        pronunciation: "Ø¶Ø§Ø¯",
        words: [
          { text: "Ø¶ÙØ¯Ø¹", image: "ğŸ¸", translation: "Frog" },
          { text: "Ø¶Ø±Ø³", image: "ğŸ¦·", translation: "Molar" },
          { text: "Ø¶Ø¨Ø§Ø¨", image: "ğŸŒ«ï¸", translation: "Fog" },
          { text: "Ø¶Ù„Ø¹", image: "ğŸ¥©", translation: "Rib" }
        ]
      },
      {
        letter: "Ø·",
        name: "Ø§Ù„Ø·Ø§Ø¡",
        pronunciation: "Ø·Ø§Ø¡",
        words: [
          { text: "Ø·Ø§Ø¦Ø±", image: "ğŸ¦", translation: "Bird" },
          { text: "Ø·Ø§ÙˆÙ„Ø©", image: "ğŸª‘", translation: "Table" },
          { text: "Ø·Ø¨ÙŠØ¨", image: "ğŸ‘¨â€âš•ï¸", translation: "Doctor" },
          { text: "Ø·Ø¨Ù‚", image: "ğŸ½ï¸", translation: "Plate" }
        ]
      },
      {
        letter: "Ø¸",
        name: "Ø§Ù„Ø¸Ø§Ø¡",
        pronunciation: "Ø¸Ø§Ø¡",
        words: [
          { text: "Ø¸Ø¨ÙŠ", image: "ğŸ¦Œ", translation: "Gazelle" },
          { text: "Ø¸ÙØ±", image: "ğŸ’…", translation: "Nail" },
          { text: "Ø¸Ù„", image: "ğŸŒ‘", translation: "Shadow" },
          { text: "Ø¸Ø±Ù", image: "âœ‰ï¸", translation: "Envelope" }
        ]
      },
      {
        letter: "Ø¹",
        name: "Ø§Ù„Ø¹ÙŠÙ†",
        pronunciation: "Ø¹ÙŠÙ†",
        words: [
          { text: "Ø¹ØµÙÙˆØ±", image: "ğŸ¦", translation: "Sparrow" },
          { text: "Ø¹Ù†Ø¨", image: "ğŸ‡", translation: "Grapes" },
          { text: "Ø¹Ø³Ù„", image: "ğŸ¯", translation: "Honey" },
          { text: "Ø¹ÙƒØ§Ø²", image: "ğŸ¦¯", translation: "Cane" }
        ]
      },
      {
        letter: "Øº",
        name: "Ø§Ù„ØºÙŠÙ†",
        pronunciation: "ØºÙŠÙ†",
        words: [
          { text: "ØºØ²Ø§Ù„", image: "ğŸ¦Œ", translation: "Deer" },
          { text: "ØºÙŠÙ…Ø©", image: "â˜ï¸", translation: "Cloud" },
          { text: "ØºØ±ÙØ©", image: "ğŸšª", translation: "Room" },
          { text: "ØºØ³Ø§Ù„Ø©", image: "ğŸ§¼", translation: "Washing Machine" }
        ]
      },
      {
        letter: "Ù",
        name: "Ø§Ù„ÙØ§Ø¡",
        pronunciation: "ÙØ§Ø¡",
        words: [
          { text: "ÙÙŠÙ„", image: "ğŸ˜", translation: "Elephant" },
          { text: "ÙØ±Ø§Ø´Ø©", image: "ğŸ¦‹", translation: "Butterfly" },
          { text: "ÙØ³ØªØ§Ù†", image: "ğŸ‘—", translation: "Dress" },
          { text: "ÙÙˆØ§ÙƒÙ‡", image: "ğŸ", translation: "Fruits" }
        ]
      },
      {
        letter: "Ù‚",
        name: "Ø§Ù„Ù‚Ø§Ù",
        pronunciation: "Ù‚Ø§Ù",
        words: [
          { text: "Ù‚Ù„Ù…", image: "âœï¸", translation: "Pen" },
          { text: "Ù‚Ø±Ø¯", image: "ğŸ’", translation: "Monkey" },
          { text: "Ù‚Ù…Ø±", image: "ğŸŒ™", translation: "Moon" },
          { text: "Ù‚Ø¨Ø¹Ø©", image: "ğŸ©", translation: "Hat" }
        ]
      },
      {
        letter: "Ùƒ",
        name: "Ø§Ù„ÙƒØ§Ù",
        pronunciation: "ÙƒØ§Ù",
        words: [
          { text: "ÙƒØªØ§Ø¨", image: "ğŸ“š", translation: "Book" },
          { text: "ÙƒÙ„Ø¨", image: "ğŸ•", translation: "Dog" },
          { text: "ÙƒÙˆØ¨", image: "ğŸ¥›", translation: "Cup" },
          { text: "ÙƒØ¹ÙƒØ©", image: "ğŸ°", translation: "Cake" }
        ]
      },
      {
        letter: "Ù„",
        name: "Ø§Ù„Ù„Ø§Ù…",
        pronunciation: "Ù„Ø§Ù…",
        words: [
          { text: "Ù„ÙŠÙ…ÙˆÙ†", image: "ğŸ‹", translation: "Lemon" },
          { text: "Ù„Øµ", image: "ğŸ‘¤", translation: "Thief" },
          { text: "Ù„ÙˆÙ†", image: "ğŸ¨", translation: "Color" },
          { text: "Ù„Ø¹Ø¨Ø©", image: "ğŸ§¸", translation: "Toy" }
        ]
      },
      {
        letter: "Ù…",
        name: "Ø§Ù„Ù…ÙŠÙ…",
        pronunciation: "Ù…ÙŠÙ…",
        words: [
          { text: "Ù…ÙˆØ²", image: "ğŸŒ", translation: "Banana" },
          { text: "Ù…Ø¯Ø±Ø³Ø©", image: "ğŸ«", translation: "School" },
          { text: "Ù…ÙØªØ§Ø­", image: "ğŸ”‘", translation: "Key" },
          { text: "Ù…ØµØ¨Ø§Ø­", image: "ğŸ’¡", translation: "Lamp" }
        ]
      },
      {
        letter: "Ù†",
        name: "Ø§Ù„Ù†ÙˆÙ†",
        pronunciation: "Ù†ÙˆÙ†",
        words: [
          { text: "Ù†Ù…Ø±", image: "ğŸ…", translation: "Tiger" },
          { text: "Ù†Ø­Ù„Ø©", image: "ğŸ", translation: "Bee" },
          { text: "Ù†Ø§ÙØ°Ø©", image: "ğŸªŸ", translation: "Window" },
          { text: "Ù†Ø¸Ø§Ø±Ø©", image: "ğŸ‘“", translation: "Glasses" }
        ]
      },
      {
        letter: "Ù‡",
        name: "Ø§Ù„Ù‡Ø§Ø¡",
        pronunciation: "Ù‡Ø§Ø¡",
        words: [
          { text: "Ù‡Ø¯Ù‡Ø¯", image: "ğŸ¦", translation: "Hoopoe" },
          { text: "Ù‡Ø§ØªÙ", image: "ğŸ“±", translation: "Phone" },
          { text: "Ù‡Ù„Ø§Ù„", image: "ğŸŒ™", translation: "Crescent" },
          { text: "Ù‡Ø¯ÙŠØ©", image: "ğŸ", translation: "Gift" }
        ]
      },
      {
        letter: "Ùˆ",
        name: "Ø§Ù„ÙˆØ§Ùˆ",
        pronunciation: "ÙˆØ§Ùˆ",
        words: [
          { text: "ÙˆØ±Ø¯Ø©", image: "ğŸŒ¹", translation: "Rose" },
          { text: "ÙˆÙ„Ø¯", image: "ğŸ‘¦", translation: "Boy" },
          { text: "ÙˆÙ‚Øª", image: "â°", translation: "Time" },
          { text: "ÙˆØ¬Ù‡", image: "ğŸ˜€", translation: "Face" }
        ]
      },
      {
        letter: "ÙŠ",
        name: "Ø§Ù„ÙŠØ§Ø¡",
        pronunciation: "ÙŠØ§Ø¡",
        words: [
          { text: "ÙŠÙ…Ø§Ù…Ø©", image: "ğŸ•Šï¸", translation: "Dove" },
          { text: "ÙŠØ¯", image: "âœ‹", translation: "Hand" },
          { text: "ÙŠÙ‚Ø·ÙŠÙ†", image: "ğŸƒ", translation: "Pumpkin" },
          { text: "ÙŠÙˆÙ…", image: "ğŸ“…", translation: "Day" }
        ]
      }
    ];

    // Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ù„Ø¹Ø¨Ø©
    let score = 0;
    let learnedLetters = 0;
    let stars = 0;
    let currentLetterIndex = 0;
    
    // Ø¹Ù†Ø§ØµØ± DOM
    const scoreElement = document.getElementById('score');
    const progressElement = document.getElementById('progress');
    const starElements = document.querySelectorAll('.star');
    const lettersGrid = document.getElementById('letters-grid');
    const currentLetterDisplay = document.getElementById('current-letter-display');
    const currentLetterName = document.getElementById('current-letter-name');
    const currentLetterPronunciation = document.getElementById('current-letter-pronunciation');
    const currentLetterWord = document.getElementById('current-letter-word');
    const pronunciationBtn = document.getElementById('pronunciation-btn');
    const wordsGrid = document.getElementById('words-grid');
    const wordsSection = document.getElementById('words-section');
    const exerciseSection = document.getElementById('exercise-section');
    const exerciseQuestion = document.getElementById('exercise-question');
    const exerciseLetter = document.getElementById('exercise-letter');
    const exerciseOptions = document.getElementById('exercise-options');
    const exerciseFeedback = document.getElementById('exercise-feedback');
    const nextBtn = document.getElementById('next-btn');
    const startExerciseBtn = document.getElementById('start-exercise-btn');
    const nextLetterBtn = document.getElementById('next-letter-btn');
    
    // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ù„Ø¹Ø¨Ø©
    function initGame() {
      updateStats();
      renderLettersGrid();
      loadLetter(currentLetterIndex);
      
      // Ø¥Ø¶Ø§ÙØ© Ù…Ø³ØªÙ…Ø¹ÙŠ Ø§Ù„Ø£Ø­Ø¯Ø§Ø«
      pronunciationBtn.addEventListener('click', playPronunciation);
      startExerciseBtn.addEventListener('click', startExercise);
      nextBtn.addEventListener('click', nextExercise);
      nextLetterBtn.addEventListener('click', nextLetter);
    }
    
    // Ø¹Ø±Ø¶ Ø´Ø¨ÙƒØ© Ø§Ù„Ø­Ø±ÙˆÙ
    function renderLettersGrid() {
      lettersGrid.innerHTML = '';
      
      arabicLetters.forEach((letter, index) => {
        const letterCard = document.createElement('div');
        letterCard.className = 'letter-card';
        if (index === currentLetterIndex) {
          letterCard.classList.add('active');
        }
        
        letterCard.innerHTML = `
          <div class="letter-display">${letter.letter}</div>
          <div class="letter-name">${letter.name}</div>
        `;
        
        letterCard.addEventListener('click', () => {
          currentLetterIndex = index;
          loadLetter(currentLetterIndex);
          renderLettersGrid();
        });
        
        lettersGrid.appendChild(letterCard);
      });
    }
    
    // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø­Ø±Ù Ø§Ù„Ø­Ø§Ù„ÙŠ
    function loadLetter(index) {
      const letter = arabicLetters[index];
      
      currentLetterDisplay.textContent = letter.letter;
      currentLetterName.textContent = letter.name;
      currentLetterPronunciation.textContent = `ÙŠÙ†Ø·Ù‚ "${letter.pronunciation}" - ØµÙˆØª Ù…Ø¬Ù‡ÙˆØ±`;
      currentLetterWord.textContent = letter.name;
      exerciseLetter.textContent = letter.name;
      
      // ØªØ­Ù…ÙŠÙ„ Ø§Ù„ÙƒÙ„Ù…Ø§Øª
      wordsGrid.innerHTML = '';
      letter.words.forEach(word => {
        const wordCard = document.createElement('div');
        wordCard.className = 'word-card';
        wordCard.setAttribute('data-word', word.text);
        
        wordCard.innerHTML = `
          <div style="font-size: 4rem;">${word.image}</div>
          <div class="word-text">${word.text}</div>
          <div class="word-translation">${word.translation}</div>
        `;
        
        wordCard.addEventListener('click', () => {
          speakWord(word.text);
          wordCard.classList.add('bounce');
          setTimeout(() => wordCard.classList.remove('bounce'), 1000);
        });
        
        wordsGrid.appendChild(wordCard);
      });
      
      // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ø¹Ø±Ø¶
      wordsSection.style.display = 'block';
      exerciseSection.style.display = 'none';
      startExerciseBtn.style.display = 'block';
    }
    
    // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª
    function updateStats() {
      scoreElement.textContent = score;
      progressElement.textContent = `${learnedLetters}/${arabicLetters.length}`;
      
      // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù†Ø¬ÙˆÙ…
      starElements.forEach((star, index) => {
        if (index < stars) {
          star.classList.add('active');
        } else {
          star.classList.remove('active');
        }
      });
    }
    
    // ØªØ´ØºÙŠÙ„ Ù†Ø·Ù‚ Ø§Ù„Ø­Ø±Ù
    function playPronunciation() {
      const currentLetter = arabicLetters[currentLetterIndex];
      const utterance = new SpeechSynthesisUtterance(currentLetter.pronunciation);
      utterance.lang = 'ar-SA';
      utterance.rate = 0.8;
      window.speechSynthesis.speak(utterance);
      
      pronunciationBtn.classList.add('bounce');
      setTimeout(() => pronunciationBtn.classList.remove('bounce'), 1000);
    }
    
    // Ù†Ø·Ù‚ Ø§Ù„ÙƒÙ„Ù…Ø©
    function speakWord(word) {
      const utterance = new SpeechSynthesisUtterance(word);
      utterance.lang = 'ar-SA';
      utterance.rate = 0.7;
      window.speechSynthesis.speak(utterance);
    }
    
    // Ø¨Ø¯Ø¡ Ø§Ù„ØªÙ…Ø±ÙŠÙ†
    function startExercise() {
      wordsSection.style.display = 'none';
      exerciseSection.style.display = 'block';
      startExerciseBtn.style.display = 'none';
      loadExercise();
    }
    
    // ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªÙ…Ø±ÙŠÙ†
    function loadExercise() {
      const currentLetter = arabicLetters[currentLetterIndex];
      const correctWord = currentLetter.words[Math.floor(Math.random() * currentLetter.words.length)];
      
      // Ø¥Ù†Ø´Ø§Ø¡ Ø®ÙŠØ§Ø±Ø§Øª Ø®Ø§Ø·Ø¦Ø©
      const incorrectWords = [];
      const allWords = [];
      
      // Ø¬Ù…Ø¹ Ø¬Ù…ÙŠØ¹ Ø§Ù„ÙƒÙ„Ù…Ø§Øª Ù…Ù† Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ø±ÙˆÙ
      arabicLetters.forEach(letter => {
        if (letter.letter !== currentLetter.letter) {
          letter.words.forEach(word => {
            allWords.push(word);
          });
        }
      });
      
      // Ø§Ø®ØªÙŠØ§Ø± 3 ÙƒÙ„Ù…Ø§Øª Ø¹Ø´ÙˆØ§Ø¦ÙŠØ© ÙƒØ®ÙŠØ§Ø±Ø§Øª Ø®Ø§Ø·Ø¦Ø©
      while (incorrectWords.length < 3 && allWords.length > 0) {
        const randomIndex = Math.floor(Math.random() * allWords.length);
        const word = allWords[randomIndex];
        
        // ØªØ¬Ù†Ø¨ Ø§Ù„ØªÙƒØ±Ø§Ø±
        if (!incorrectWords.some(w => w.text === word.text) && word.text !== correctWord.text) {
          incorrectWords.push(word);
          allWords.splice(randomIndex, 1);
        }
      }
      
      // Ø¯Ù…Ø¬ Ø§Ù„Ø®ÙŠØ§Ø±Ø§Øª ÙˆØ®Ù„Ø·Ù‡Ø§
      const options = [correctWord, ...incorrectWords];
      shuffleArray(options);
      
      // Ø¹Ø±Ø¶ Ø§Ù„ØªÙ…Ø±ÙŠÙ†
      exerciseQuestion.textContent = `Ø£ÙŠ Ù…Ù† Ù‡Ø°Ù‡ Ø§Ù„ÙƒÙ„Ù…Ø§Øª ØªØ¨Ø¯Ø£ Ø¨Ø­Ø±Ù ${currentLetter.name}ØŸ`;
      exerciseOptions.innerHTML = '';
      exerciseFeedback.textContent = '';
      nextBtn.style.display = 'none';
      
      options.forEach(option => {
        const button = document.createElement('button');
        button.className = 'option-btn';
        button.innerHTML = `
          <div style="font-size: 2.5rem; margin-bottom: 0.5rem;">${option.image}</div>
          <div>${option.text}</div>
        `;
        button.addEventListener('click', () => checkAnswer(option.text === correctWord.text, button));
        exerciseOptions.appendChild(button);
      });
    }
    
    // Ø®Ù„Ø· Ø§Ù„Ù…ØµÙÙˆÙØ©
    function shuffleArray(array) {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
      return array;
    }
    
    // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø©
    function checkAnswer(isCorrect, button) {
      // ØªØ¹Ø·ÙŠÙ„ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ø²Ø±Ø§Ø±
      document.querySelectorAll('.option-btn').forEach(btn => {
        btn.disabled = true;
      });
      
      if (isCorrect) {
        button.classList.add('correct');
        exerciseFeedback.textContent = 'Ø¥Ø¬Ø§Ø¨Ø© ØµØ­ÙŠØ­Ø©! Ø£Ø­Ø³Ù†Øª!';
        exerciseFeedback.className = 'exercise-feedback feedback-correct';
        score += 10;
        
        // Ø¥Ø¶Ø§ÙØ© Ù†Ø¬Ù…Ø© Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ø§Ù„Ù†ØªÙŠØ¬Ø© Ø¬ÙŠØ¯Ø©
        if (score >= 50 && stars < 3) {
          stars++;
        }
        
        // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø­Ø±ÙˆÙ Ø§Ù„Ù…ØªÙ‚Ù†Ø©
        if (!arabicLetters[currentLetterIndex].learned) {
          arabicLetters[currentLetterIndex].learned = true;
          learnedLetters++;
        }
      } else {
        button.classList.add('incorrect');
        exerciseFeedback.textContent = 'Ø¥Ø¬Ø§Ø¨Ø© Ø®Ø§Ø·Ø¦Ø©ØŒ Ø­Ø§ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰!';
        exerciseFeedback.className = 'exercise-feedback feedback-incorrect';
      }
      
      updateStats();
      nextBtn.style.display = 'block';
    }
    
    // Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ù„Ù„ØªÙ…Ø±ÙŠÙ† Ø§Ù„ØªØ§Ù„ÙŠ
    function nextExercise() {
      loadExercise();
    }
    
    // Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ù„Ù„Ø­Ø±Ù Ø§Ù„ØªØ§Ù„ÙŠ
    function nextLetter() {
      if (currentLetterIndex < arabicLetters.length - 1) {
        currentLetterIndex++;
        loadLetter(currentLetterIndex);
        renderLettersGrid();
      } else {
        // Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø­Ø±Ù Ø§Ù„Ø£ÙˆÙ„ Ø¥Ø°Ø§ ÙƒÙ†Ø§ ÙÙŠ Ø§Ù„Ø£Ø®ÙŠØ±
        currentLetterIndex = 0;
        loadLetter(currentLetterIndex);
        renderLettersGrid();
      }
    }
    
    // Ø¨Ø¯Ø¡ Ø§Ù„Ù„Ø¹Ø¨Ø© Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©
    window.addEventListener('DOMContentLoaded', initGame);
  </script>
  <!-- Ø²Ø± Ø§Ù„Ø¹ÙˆØ¯Ø© -->
  <style>
    .return-button {
      position: fixed;
      bottom: 30px;
      right: 30px;
      background: linear-gradient(135deg, #e8822a, #ff9d45);
      color: white;
      padding: 12px 30px;
      border: none;
      border-radius: 50px;
      font-size: 16px;
      font-weight: bold;
      text-decoration: none;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 4px 6px rgba(0,0,0,0.1);
      z-index: 1000;
      display: flex;
      align-items: center;
      gap: 0.5rem;
      border: 2px solid #ffb366;
    }
    
    .return-button:hover {
      background: linear-gradient(135deg, #ff9d45, #e8822a);
      transform: translateY(-2px) scale(1.05);
      box-shadow: 0 6px 8px rgba(0,0,0,0.15);
    }
    
    .return-button:active {
      transform: translateY(0);
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    
    @media (max-width: 768px) {
      .return-button {
        bottom: 20px;
        right: 20px;
        padding: 10px 20px;
        font-size: 14px;
      }
    }
  </style>
  <a href="javascript:history.back()" class="return-button">â† Ø¹ÙˆØ¯Ø©</a>
  <script>
    (function(){
      function getFallbackUrl(){
        const path = location.pathname.toLowerCase();
        if (path.includes('game-arabic-letters') || path.includes('game-math-shape-lab') || path.includes('game-english-color-explorer')) {
          return 'games-kg1.html';
        }
        if (path.includes('game-arabic-word-garden') || path.includes('game-math-number-race') || path.includes('game-english-word-trail')) {
          return 'games-kg2.html';
        }
        if (path.includes('games-kg1')) return 'stages.html';
        if (path.includes('games-kg2')) return 'stages.html';
        if (path.includes('games.html')) return 'index.html';
        if (path.includes('dashboard')) return 'stages.html';
        if (path.includes('stages')) return 'index.html';
        return 'index.html';
      }
      function handleBack(){
        if (document.referrer && document.referrer !== location.href) {
          window.history.back();
        } else {
          window.location.href = getFallbackUrl();
        }
      }
      const btn=document.createElement('button');
      btn.textContent='â† Ø±Ø¬ÙˆØ¹';
      btn.style.cssText='position:fixed;top:20px;left:20px;z-index:1000;background:linear-gradient(135deg,#e8822a,#ff9d45);color:#fff;border:none;padding:10px 16px;border-radius:12px;font-weight:700;font-family:Tajawal,sans-serif;box-shadow:0 4px 10px rgba(0,0,0,0.2);cursor:pointer;';
      btn.addEventListener('click',handleBack);
      document.addEventListener('DOMContentLoaded',function(){ document.body.appendChild(btn);});
    })();
  </script>
  <style>
    .ai-assistant{position:fixed;bottom:30px;left:30px;z-index:1000}
    .ai-button{width:70px;height:70px;border-radius:50%;background:linear-gradient(135deg,#FF9E1F,#4A90E2);border:none;box-shadow:0 6px 20px rgba(0,0,0,0.2);cursor:pointer;display:flex;align-items:center;justify-content:center;font-size:1.8rem;color:#fff;transition:all .3s ease;position:relative;overflow:hidden}
    .ai-button::before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:linear-gradient(135deg,rgba(255,255,255,.2),transparent);border-radius:50%}
    .ai-button:hover{transform:scale(1.1) rotate(5deg);box-shadow:0 8px 25px rgba(0,0,0,0.3)}
    .ai-button.pulse{animation:pulse 2s infinite}
    @keyframes pulse{0%{box-shadow:0 0 0 0 rgba(255,158,31,.7)}70%{box-shadow:0 0 0 15px rgba(255,158,31,0)}100%{box-shadow:0 0 0 0 rgba(255,158,31,0)}}
    .ai-tooltip{position:absolute;bottom:85px;left:0;background:#fff;color:#2D3748;padding:.8rem 1.2rem;border-radius:16px;box-shadow:0 10px 25px rgba(0,0,0,.12);width:200px;text-align:center;font-weight:500;opacity:0;visibility:hidden;transition:all .3s ease;transform:translateY(10px)}
    .ai-button:hover + .ai-tooltip{opacity:1;visibility:visible;transform:translateY(0)}
    .ai-chat{position:fixed;bottom:120px;left:30px;width:350px;height:450px;background:#fff;border-radius:16px;box-shadow:0 10px 25px rgba(0,0,0,.12);z-index:1001;display:none;flex-direction:column;overflow:hidden}
    .ai-chat.active{display:flex}
    .chat-header{background:linear-gradient(135deg,#FF9E1F,#4A90E2);color:#fff;padding:1rem;display:flex;align-items:center;justify-content:space-between}
    .chat-header h3{margin:0;display:flex;align-items:center;gap:.5rem}
    .close-chat{background:none;border:none;color:#fff;font-size:1.5rem;cursor:pointer;transition:all .3s ease}
    .close-chat:hover{transform:scale(1.2)}
    .chat-body{flex:1;padding:1rem;overflow-y:auto;display:flex;flex-direction:column;gap:1rem}
    .message{max-width:80%;padding:.8rem 1rem;border-radius:1.2rem;line-height:1.5}
    .ai-message{background:#F7FAFC;color:#2D3748;align-self:flex-start;border-bottom-right-radius:.2rem}
    .user-message{background:#FFD699;color:#2D3748;align-self:flex-end;border-bottom-left-radius:.2rem}
    .chat-footer{padding:1rem;border-top:1px solid #E2E8F0;display:flex;gap:.5rem}
    .chat-input{flex:1;padding:.8rem 1rem;border:1px solid #E2E8F0;border-radius:50px;font-family:inherit;outline:none;transition:all .3s ease}
    .chat-input:focus{border-color:#FF9E1F}
    .send-button{background:#FF9E1F;color:#fff;border:none;border-radius:50%;width:45px;height:45px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .3s ease}
    .send-button:hover{background:#E88A0D;transform:scale(1.05)}
  </style>
  <div class="ai-assistant">
    <button class="ai-button pulse">ğŸ¤–</button>
    <div class="ai-tooltip">Ø§Ø³Ø£Ù„Ù†ÙŠ Ø¹Ù† Ø£ÙŠ Ø´ÙŠØ¡!</div>
    <div class="ai-chat">
      <div class="chat-header">
        <h3><span>ğŸ¤–</span> Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯ Ø§Ù„Ø°ÙƒÙŠ</h3>
        <button class="close-chat">Ã—</button>
      </div>
      <div class="chat-body">
        <div class="message ai-message">Ù…Ø±Ø­Ø¨Ø§Ù‹! Ø£Ù†Ø§ Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯ Ø§Ù„Ø°ÙƒÙŠ. ÙƒÙŠÙ ÙŠÙ…ÙƒÙ†Ù†ÙŠ Ù…Ø³Ø§Ø¹Ø¯ØªÙƒ Ø§Ù„ÙŠÙˆÙ…ØŸ</div>
      </div>
      <div class="chat-footer">
        <input type="text" class="chat-input" placeholder="Ø§ÙƒØªØ¨ Ø±Ø³Ø§Ù„ØªÙƒ Ù‡Ù†Ø§...">
        <button class="send-button">â¤</button>
      </div>
    </div>
  </div>
  <script>
    (function(){
      const aiButton=document.querySelector('.ai-button');
      const aiChat=document.querySelector('.ai-chat');
      const closeChat=document.querySelector('.close-chat');
      const sendButton=document.querySelector('.send-button');
      const chatInput=document.querySelector('.chat-input');
      const chatBody=document.querySelector('.chat-body');
      function addMessage(text,isUser){const d=document.createElement('div');d.classList.add('message');d.classList.add(isUser?'user-message':'ai-message');d.textContent=text;chatBody.appendChild(d);chatBody.scrollTop=chatBody.scrollHeight;}
      if(aiButton){aiButton.addEventListener('click',function(){aiChat.classList.toggle('active');});}
      if(closeChat){closeChat.addEventListener('click',function(){aiChat.classList.remove('active');});}
      if(sendButton){sendButton.addEventListener('click',function(){const m=chatInput.value.trim();if(m){addMessage(m,true);chatInput.value='';setTimeout(function(){var r=["Ù‡Ø°Ø§ Ø³Ø¤Ø§Ù„ Ø±Ø§Ø¦Ø¹!","Ø£ÙÙ‡Ù… Ù…Ø§ ØªÙ‚ØµØ¯Ù‡.","Ø´ÙƒØ±Ø§Ù‹ Ù„Ø³Ø¤Ø§Ù„Ùƒ!","Ù‡Ù„ ØªØ­ØªØ§Ø¬ Ø¥Ù„Ù‰ Ù…Ø²ÙŠØ¯ Ù…Ù† Ø§Ù„ØªÙØ§ØµÙŠÙ„ØŸ"];addMessage(r[Math.floor(Math.random()*r.length)]);},1000);}});} 
      if(chatInput){chatInput.addEventListener('keypress',function(e){if(e.key==='Enter'){sendButton.click();}});} 
    })();
  </script>
</body>
</html>